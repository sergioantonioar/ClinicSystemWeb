<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Paciente</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../css/Dashboard.css" />
		<link rel="stylesheet" href="../css/Paciente.css" />
	</head>
	<body>
		<!-- Sidebar dinámico -->
		<div id="sidebar-placeholder"></div>
		<!-- Contenido principal -->
		<div class="container-fluid contenido-principal py-3">
			<h1 class="mb-4 text-primary"><i class="fa fa-user"></i> Paciente</h1>
			<div class="w-100">
				<div class="card mb-4 shadow-lg border-0" style="background: #f8fbff">
					<div class="card-header bg-gradient bg-primary text-white fw-bold rounded-top">
						<i class="fa fa-address-card"></i> Datos del Paciente
					</div>
					<div class="card-body">
						<form id="formPaciente">
							<div class="row mb-3">
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Nombre</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-user"></i></span>
										<input type="text" class="form-control" placeholder="Nombre" name="nombre" required />
									</div>
								</div>
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Apellidos</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-user"></i></span>
										<input type="text" class="form-control" placeholder="Apellidos" name="apellidos" required />
									</div>
								</div>
								<div class="col-12 col-md-2 mb-2">
									<label class="fw-semibold">DNI</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-id-card"></i></span>
										<input
											type="text"
											class="form-control"
											placeholder="DNI"
											name="dni"
											maxlength="8"
											pattern="\d{8}"
											title="El DNI debe tener exactamente 8 dígitos"
											required />
									</div>
								</div>
								<div class="col-12 col-md-2 mb-2">
									<label class="fw-semibold">Fecha de Nacimiento</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-birthday-cake"></i></span>
										<input
											type="date"
											class="form-control"
											name="birthday"
											id="fechaNacimiento"
											max="2025-12-31"
											required />
									</div>
								</div>
								<div class="col-12 col-md-2 mb-2">
									<label class="fw-semibold">Edad</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-hourglass-half"></i></span>
										<input
											type="number"
											class="form-control"
											placeholder="Edad"
											id="edadInput"
											name="edad"
											min="0"
											max="120"
											readonly
											required />
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Dirección</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-home"></i></span>
										<input type="text" class="form-control" placeholder="Dirección" name="direccion" required />
									</div>
								</div>
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Teléfono</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-phone"></i></span>
										<input
											type="tel"
											class="form-control"
											placeholder="Teléfono"
											name="telefono"
											pattern="[0-9]{7,9}"
											title="El teléfono debe tener entre 7 y 9 dígitos"
											required />
									</div>
								</div>
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Celular</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-mobile-alt"></i></span>
										<input
											type="tel"
											class="form-control"
											placeholder="Celular"
											name="celular"
											pattern="[0-9]{9}"
											title="El celular debe tener exactamente 9 dígitos"
											required />
									</div>
								</div>
								<div class="col-12 col-md-3 mb-2">
									<label class="fw-semibold">Correo Electrónico</label>
									<div class="input-group">
										<span class="input-group-text bg-light"><i class="fa fa-envelope"></i></span>
										<input type="email" class="form-control" placeholder="correo@ejemplo.com" name="email" />
									</div>
								</div>
								<div class="col-12 col-md-3 d-flex align-items-center mb-2">
									<label class="me-2 mb-0 fw-semibold">Género:</label>
									<label class="me-3 mb-0"><input type="radio" name="genero" value="H" /> H</label>
									<label class="mb-0"><input type="radio" name="genero" value="M" /> M</label>
								</div>
							</div>
							<div class="row mb-3">
								<div class="col-12">
									<label class="fw-semibold">Antecedente</label>
									<textarea
										class="form-control"
										name="antecedente"
										rows="2"
										placeholder="Antecedente"
										maxlength="1000"></textarea>
									<small class="text-muted">Máximo 1000 caracteres</small>
								</div>
							</div>
							<div class="row">
								<div class="col text-end">
									<button type="submit" class="btn btn-primary mt-3 px-5 shadow-sm" id="btnGuardar">
										<i class="fas fa-save"></i> Guardar
									</button>
									<button
										type="button"
										class="btn btn-warning mt-3 px-4 shadow-sm text-white d-none"
										id="btnActualizar">
										<i class="fas fa-sync"></i> Actualizar
									</button>
									<button type="button" class="btn btn-secondary mt-3 px-4 shadow-sm ms-2 d-none" id="btnCancelar">
										<i class="fas fa-times"></i> Cancelar
									</button>
									<input type="hidden" id="pacienteId" value="" />
								</div>
							</div>
						</form>
					</div>
				</div>
				<!-- Buscador y tabla -->
				<div class="mb-3 d-flex align-items-center flex-wrap gap-2">
					<h4 class="mb-0 text-primary"><i class="fa fa-search"></i> Buscar Paciente</h4>
					<div class="input-group input-group-sm me-2" style="width: 180px">
						<input type="text" class="form-control border-primary" placeholder="Ingrese DNI" id="searchDni" />
						<button class="btn btn-outline-primary btn-sm" id="btnBuscarDni">
							<i class="fas fa-search"></i> Buscar
						</button>
					</div>
					<button class="btn btn-outline-secondary btn-sm me-2" type="button" id="mostrarTodos">
						<i class="fa fa-list"></i> Mostrar Todos
					</button>
					<button class="btn btn-success btn-sm" id="exportarPacientes">
						<i class="fa fa-file-excel"></i> Exportar Pacientes
					</button>
				</div>
				<div class="table-responsive">
					<table class="table table-bordered table-striped w-100 shadow-sm rounded">
						<thead class="table-primary">
							<tr>
								<th>Orden</th>
								<th>Nombre</th>
								<th>Apellido</th>
								<th>DNI</th>
								<th>Correo</th>
								<th>Teléfono</th>
								<th>Acciones</th>
							</tr>
						</thead>
						<tbody id="tablaPacientes">
							<tr>
								<td colspan="7" class="text-center">No hay pacientes registrados.</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script type="module" src="../scripts/Paciente.js"></script>
	</body>
</html>
